<!DOCTYPE html>
<html>

<head>
  <title>Hello Hacker :: Desk Display</title>
  <link rel="stylesheet" type="text/css" href="/style.css" />
</head>

<body>
  <main>
    <h1>Hello Hacker!</h1>
    <p>I'm a Desk Display and you can set me up on this page. You will need to provide your WiFi settings, provide the
      HomeAssistant API token and sensor ID's.</p>
    <p>This device %SETUP_STATE%</p>
    <form method="post" action="/save">
      <div class="form-field-group">
        <h2>WiFi</h2>
        <div class="form-group">
          <label for="wifiSsid">WiFi SSID</label>
          <input type="text" required id="wifiSsid" name="wifiSsid" placeholder="Enter your WiFi SSID" value="%WIFI_SSID%" />
        </div>
        <div class="form-group">
          <label for="wifiPassword">WiFi Password</label>
          <input type="text" required id="wifiPassword" name="wifiPassword" placeholder="Enter your WiFi Password" value="%WIFI_PASSWORD%" />
        </div>
      </div>

      <div class="form-field-group">
        <h2>HomeAssistant REST API</h2>
        <div class="form-group">
          <label for="apiUrl">States API URL</label>
          <input type="text" required id="apiUrl" name="apiUrl" placeholder="http://homeassistant.local:8123/api/states/" value="%HA_API%" />
        </div>
        <div class="form-group">
          <label for="authToken">HTTP Bearer Token</label>
          <input type="text" required id="authToken" name="authToken" placeholder="Paste access token from HomeAssistant" value="%AUTH_TOKEN%" />
        </div>
      </div>

      <div class="form-field-group">
        <h2>HomeAssistant sensors</h2>
        <div class="form-group">
          <label for="inSensorId">Indoor temperature sensor ID</label>
          <input type="text" required id="inSensorId" name="inSensorId" placeholder="sensor.temperature_sensor_example_temperature" value="%IN_SENSOR_ID%" />
        </div>
        <div class="form-group">
          <label for="outSensorId">Weather forecast sensor ID</label>
          <input type="text" required id="outSensorId" name="outSensorId" placeholder="weather.forecast_myhome"  value="%OUT_SENSOR_ID%" />
        </div>
      </div>

      <div class="form-field-group">
        <h2>Device settings</h2>
        <div class="form-group">
          <label for="debugMode">Enable debug</label>
          <input type="checkbox" id="debugMode" name="debugMode" %ENABLE_DEBUG% />
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="displayWifiIndicator">Display WiFi indicator when on</label>
          <input type="checkbox" id="displayWifiIndicator" name="displayWifiIndicator" %WIFI_ICON_STATE% />
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="httpRequestInterval">HTTP request interval (in seconds)</label>
          <input type="text" id="httpRequestInterval" name="httpRequestInterval" placeholder="60" value="%HTTP_REQUEST_INTERVAL%" />
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="sleepTouchThreshold">Sleep button touch duration threshold</label>
          <select id="sleepTouchThreshold" name="sleepTouchThreshold">
            <option value="long" %LONG_TOUCH_SELECTED%>Long (~3 blinks)</option>
            <option value="medium" %MEDIUM_TOUCH_SELECTED%>Medium (~2 blinks)</option>
            <option value="short" %SHORT_TOUCH_SELECTED%>Short (~1 blink)</option>
          </select>
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="screenBrightness">Screen brightness</label>
          <select id="screenBrightness" name="screenBrightness">
            <option value="high" %HIGH_BRIGHTNESS_SELECTED%>Bright</option>
            <option value="medium" %MEDIUM_BRIGHTNESS_SELECTED%>Medium</option>
            <option value="dim" %DIM_BRIGHTNESS_SELECTED%>Dim</option>
          </select>
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="invertScreen">Invert screen</label>
          <input type="checkbox" id="invertScreen" name="invertScreen" %INVERT_SCREEN% />
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="isSetup">Is setup?</label>
          <input type="checkbox" id="isSetup" name="isSetup" %IS_SETUP% />
        </div>
        <div class="form-group"%DEBUG_MODE_STYLING%>
          <label for="resetChip" style="color: red">Reset chip configuration?</label>
          <input type="checkbox" id="resetChip" name="resetChip" />
        </div>
      </div>

      <button type="submit">Save</button>
    </form>
    <footer>
      <p>The device will reset after applying settings.</p>
    </footer>
  </main>
</body>

</html>